/// <reference types="react" />
import type { ActivityRegisteredEvent, StackflowActions } from "@stackflow/core";
import type { ActivityComponentType } from "./activity";
import type { BaseActivities } from "./BaseActivities";
import type { StackflowReactPlugin } from "./StackflowReactPlugin";
import type { UseActionsOutputType } from "./useActions";
import type { UseStepActions, UseStepActionsOutputType } from "./useStepActions";
export declare type StackComponentType = React.FC<{
    initialContext?: any;
}>;
declare type StackflowPluginsEntry<T extends BaseActivities> = StackflowReactPlugin<T> | StackflowPluginsEntry<T>[];
export declare type StackflowOptions<T extends BaseActivities> = {
    /**
     * Register activities used in your app
     */
    activities: T;
    /**
     * Transition duration for stack animation (millisecond)
     */
    transitionDuration: number;
    /**
     * Set the first activity to load at the bottom
     * (It can be overwritten by plugin)
     */
    initialActivity?: () => Extract<keyof T, string>;
    /**
     * Inject stackflow plugins
     */
    plugins?: Array<StackflowPluginsEntry<T>>;
};
export declare type StackflowOutput<T extends BaseActivities> = {
    /**
     * Return activities
     */
    activities: T;
    /**
     * Created `<Stack />` component
     */
    Stack: StackComponentType;
    /**
     * Created `useFlow()` hooks
     */
    useFlow: () => UseActionsOutputType<T>;
    /**
     * Created `useStepFlow()` hooks
     */
    useStepFlow: UseStepActions<T>;
    /**
     * Add activity imperatively
     */
    addActivity: (options: {
        name: string;
        component: ActivityComponentType<any>;
        paramsSchema?: ActivityRegisteredEvent["activityParamsSchema"];
    }) => void;
    /**
     * Add plugin imperatively
     */
    addPlugin: (plugin: StackflowPluginsEntry<T>) => void;
    /**
     * Created action triggers
     */
    actions: Pick<StackflowActions, "dispatchEvent" | "getStack"> & Pick<UseActionsOutputType<T>, "push" | "pop" | "replace"> & Pick<UseStepActionsOutputType<{}>, "stepPush" | "stepReplace" | "stepPop">;
};
/**
 * Make `<Stack />` component and `useFlow()` hooks that strictly typed with `activities`
 */
export declare function stackflow<T extends BaseActivities>(options: StackflowOptions<T>): StackflowOutput<T>;
export {};
